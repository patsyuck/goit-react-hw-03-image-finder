(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{16:function(t,e,a){},18:function(t,e,a){},19:function(t,e,a){},21:function(t,e,a){},22:function(t,e,a){},44:function(t,e,a){},45:function(t,e,a){},46:function(t,e,a){"use strict";a.r(e);var n=a(1),r=a.n(n),o=a(10),c=a.n(o),i=(a(16),a(3)),s=a.n(i),u=a(9),l=a(4),h=a(5),d=a(7),p=a(6),b=(a(18),a(19),a(0)),m=function(t){var e=t.onSubmit;return Object(b.jsx)("header",{className:"Searchbar",children:Object(b.jsxs)("form",{className:"SearchForm",onSubmit:e,children:[Object(b.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(b.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(b.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},f=(a(21),function(t){var e=t.url,a=t.openModal,n=t.bigUrl;return Object(b.jsx)("li",{className:"ImageGalleryItem",onClick:a(n),children:Object(b.jsx)("img",{src:e,alt:"",className:"ImageGalleryItem-image"})})}),j=(a(22),function(t){var e=t.cards,a=t.openModal;return Object(b.jsx)("ul",{className:"ImageGallery",children:e.map((function(t){return Object(b.jsx)(f,{url:t.image,bigUrl:t.bigImage,openModal:a},t.id)}))})}),g=(a(23),a(11)),x=a.n(g),O=function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(b.jsx)(x.a,{type:"Puff",color:"#00BFFF",height:500,width:500})}}]),a}(n.Component),v=(a(44),function(t){var e=t.onSubmit;return Object(b.jsx)("button",{type:"submit",className:"Button",onClick:e,children:"Load more"})}),y=(a(45),function(t){var e=t.photo,a=t.closeModal;return Object(b.jsx)("div",{className:"Overlay",onClick:a,onKeyDown:function(t){27===t.keyCode&&a()},tabIndex:"0",children:Object(b.jsx)("div",{className:"Modal",children:Object(b.jsx)("img",{src:e,alt:""})})})}),S="21312315-f1f0be60f3efa7b19271edd39",k=function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={query:"",page:1,cards:[],loading:!1,endpoint:"",bigPhoto:""},t.handleOpenModal=function(e){return function(){t.setState({bigPhoto:e})}},t.handleCloseModal=function(){t.setState({bigPhoto:""})},t.handleSubmit=function(e){e.preventDefault(),t.setState({query:e.target[1].value,page:1,cards:[]})},t.handleLoadMore=function(){t.setState({page:t.state.page+1})},t}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var t=Object(u.a)(s.a.mark((function t(){var e,a,n,r,o,c,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.state,a=e.query,n=e.page,""===a){t.next=21;break}return r="https://pixabay.com/api/?q=".concat(a,"&page=").concat(n,"&key=").concat(S,"&image_type=photo&orientation=horizontal&per_page=12"),this.setState({loading:!0,endpoint:r}),t.prev=4,t.next=7,fetch(r);case 7:return o=t.sent,t.next=10,o.json();case 10:c=t.sent,i=c.hits.map((function(t){return{id:t.id,image:t.webformatURL,bigImage:t.largeImageURL}})),this.setState({cards:this.state.cards.concat(i)}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),console.error(t.t0);case 18:return t.prev=18,this.setState({loading:!1}),t.finish(18);case 21:case"end":return t.stop()}}),t,this,[[4,15,18,21]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(m,{onSubmit:this.handleSubmit}),this.state.loading?Object(b.jsx)(O,{}):Object(b.jsx)(j,{cards:this.state.cards,openModal:this.handleOpenModal}),this.state.cards.length>0&&Object(b.jsx)(v,{onSubmit:this.handleLoadMore}),""!==this.state.bigPhoto&&Object(b.jsx)(y,{photo:this.state.bigPhoto,closeModal:this.handleCloseModal})]})}},{key:"componentDidUpdate",value:function(){var t=Object(u.a)(s.a.mark((function t(){var e,a,n,r,o,c,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.state,a=e.query,n=e.page,(r="https://pixabay.com/api/?q=".concat(a,"&page=").concat(n,"&key=").concat(S,"&image_type=photo&orientation=horizontal&per_page=12"))===this.state.endpoint){t.next=21;break}return this.setState({loading:!0,endpoint:r}),t.prev=4,t.next=7,fetch(r);case 7:return o=t.sent,t.next=10,o.json();case 10:c=t.sent,i=c.hits.map((function(t){return{id:t.id,image:t.webformatURL,bigImage:t.largeImageURL}})),this.setState({cards:this.state.cards.concat(i)}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),console.error(t.t0);case 18:return t.prev=18,this.setState({loading:!1}),t.finish(18);case 21:window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 22:case"end":return t.stop()}}),t,this,[[4,15,18,21]])})));return function(){return t.apply(this,arguments)}}()}]),a}(n.Component);c.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(k,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.3f381f02.chunk.js.map